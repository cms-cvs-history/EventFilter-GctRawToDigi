

process gctValidation = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  # Emulator configuration
  include "L1TriggerConfig/L1ScalesProducers/data/L1Scales.cfi"
  include "L1TriggerConfig/L1ScalesProducers/data/L1ScalesRecords.cff"
  include "L1TriggerConfig/GctConfigProducers/data/l1GctConfig.cfi"
  include "L1TriggerConfig/GctConfigProducers/data/L1GctConfig.cff"
  
  source = EmptySource {
    untracked int32 maxEvents = 1
  }

  module vmeToRaw = TextToRaw {
    untracked string filename = "slinkOutput.txt"
  }

  module L1GctRawDigis = GctRawToDigi {
    untracked bool Verbose = true
    int32 GctFedId = 745
  }

  # GCT emulator
  module L1GctEmuDigis = L1GctEmulator { 
    InputTag inputLabel = L1GctRawDigis
  }

  # Include the GCT Monitor DQM package
#  include "DQM/GCTMonitor/data/gctMonitor.cfi"
#  service = DaqMonitorROOTBackEnd{}
#  include "DQMServices/Daemon/test/data/dqm_monitorDaemon.cfi"

  module test= L1GctTestAnalyzer { 
    untracked bool doRctEm = false
  }


  path p = { vmeToRaw, L1GctRawDigis, L1GctEmuDigis, test }

  module outputEvents = PoolOutputModule {
    untracked string fileName = "gctRaw.root"
  }

  endpath outpath = { outputEvents }

}